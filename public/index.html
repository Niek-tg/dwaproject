<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>Percolator</title>

    <link href="./css/jsoneditor.min.css" rel="stylesheet" type="text/css">
    <link href="./css/jsoneditor.css" rel="stylesheet" type="text/css">
    <!--<link href="css/svg.css" rel="stylesheet">-->
    <!--<link href="./css/bootstrap.min.css" rel="stylesheet"/>-->
    <!--<link href="./css/bootstrap-theme.min.css" rel="stylesheet"/>-->
    <!--<link  href="css/svg.css" rel="stylesheet">-->
    <!--<link href="./css/custom.css" rel="stylesheet"/>-->
    <link href="./css/memoryModel.css" rel="stylesheet">
    <link href="./css/percolatorFrame.css" rel="stylesheet">
    <link rel="shortcut icon" type="image/png" href="./images/fav_percolator.png"/>

</head>
<body>
<div id="memoryModelWrapper" class="col-md-12 col-sm-12 container-fluid">
    <!--Header-->
    <div id="header" class="col-md-12 col-sm-12">
        <!--Percolator Logo-->
        <div id="logo" class="col-md-3 col-sm-3">
            <img src="./images/lg_percolator.png" class="img-responsive" alt="Responsive image">
        </div>
        <div id="newFrameButtons" class="newFrameButtons">
            <button id="addNewHeapFrame">add heapframe</button><input type="text" id='heapLabel' value="heap name">
            <button id="addNewStackFrame">add stackframe</button><input type="text" id='frameLabel' value="frame name">
            <!--<button id="addNewMemoryModel">New MemoryModel</button>-->
            <button id="addNewStack">add Stack</button>
            <button id="addNewHeap">add Heap</button>
        </div>


        <div class="col-md-offset-10 col-md-2 viewButtons">
        <button id="addReference">toggle references</button>

            <!-- Both diagram end json editor states are toggled so the server know if one is in use-->
            <button onclick="enableCodeView(); changeDiagramState(); activeJsonEditorState()" title="Code view"><img
                    src="./images/code_icon.png">Code view
            </button>
            <button onclick="chooseMemoryModel(currentMemoryModel.mmid, false,false); changeJsonEditorState(); activeDiagramState()"
                    title="Diagram view"><img src="./images/diagram_icon.png">Diagram view
            </button>
        </div>

        <select class="stackDropDown">
            <option id="stackDropDown"></option>
        </select>

        <div id="newMemoryModel">
            <button id="addNewMemoryModel">New MemoryModel</button>
        </div>

        <!--Header Title: Owner & name of Memorymodel-->
        <div id="headerTitle" class="col-md-9 col-sm-9">
            <h5 id="owner"></h5>
            <h5 id="modelName"></h5>
            <h5 id="version"></h5>
        </div>
    </div>



    <!--List of all memorymodels-->
    <div id="allMemoryModels" class="col-md-2 col-sm-2">
        <div class="togglable">
            <button onclick="toggleActive(this)" class="toggleButton right"><img src="./images/close-icon.png"
                                                                                 alt="close"/></button>
        </div>

        <div class="rotate270 rotatedTextPositioning all">All memory models</div>

        <ul class="list-group" id="memoryModelsList"></ul>

    </div>

    <!--List of the memory versions-->
    <div id="memoryModelVersions" class="col-md-2 col-sm-2">
        <div class="togglable">
            <button onclick="toggleActive(this)" class="toggleButton right"><img src="./images/close-icon.png"
                                                                                 alt="close"/></button>
        </div>

        <div class="rotate270 rotatedTextPositioning version">Version list</div>

        <div id="versionPositioning">
            <button class="btn btn-primary" id="undoButton" onclick="chooseMemoryModel('id', true, true)">Undo</button>
            <ul class="list-group" id="memoryModelVersionList"></ul>
        </div>

    </div>

    <!-- Memorymodel-->
    <div id="memoryModel" class="col-md-8 col-sm-8">
        <div id="diagramContainer">


        </div>
    </div>


    <div id='editWrapper'>
        <div>
            <label for='selectedInputField'>Value</label>
            <input id='selectedInputField' class='' type='text' placeholder='value'>

            <label for='selectedInputField'>Name</label>
            <input id='selectedNameField' class='' type='text' placeholder='name'>
        </div>
        <div>
            <input id="typeString" type="radio" name="type" value="string" checked>String
            <br>
            <input id="typeNumber" type="radio" name="type" value="number">Number
            <br>
            <input id="typeReference" type="radio" name="type" value="reference">Reference
            <br>
            <input id="typeNull" type="radio" name="type" value="reference">Null
            <br>
            <input id="typeUndefined" type="radio" name="type" value="reference">Undefined
        </div>
        <div>
            <button id="updateButton">Save</button>
            <button id="closeButton">Discard and close</button>
        </div>
    </div>

</div>
</body>

<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/jqueryui/1.11.1/jquery-ui.min.js"></script>
<!--<script src="//cdnjs.cloudflare.com/ajax/libs/jsPlumb/1.4.1/jquery.jsPlumb-1.4.1-all-min.js"></script>-->
<script src="./javascript/jquery.jsPlumb-1.5.5.js"></script>
<!--<script src="./javascript/bootstrap.js"></script>-->
<script src="javascript/percolatorFrameFunctions.js"></script>
<script src="javascript/viewSwitcher.js"></script>


<script src="javascript/messageHandler.js"></script>
<script src="javascript/JSONEditorSocket.js"></script>
<script src="javascript/percolatorSocket.js"></script>
<script src="javascript/percolator.js"></script>
<script src="javascript/memoryModelFunctions.js"></script>
<script src="javascript/jsoneditor.min.js"></script>
<script src="javascript/JSONEditorModule.js"></script>

<script>
    $(document).ready(function () {
        enableDiagramView();

    });

    $(window).resize(function () {
        calculateDiagramContainerSize();
    });

</script>
</html>