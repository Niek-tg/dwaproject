<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>Percolator</title>
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/jqueryui/1.9.2/jquery-ui.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/jsPlumb/1.4.1/jquery.jsPlumb-1.4.1-all-min.js"></script>
    <script src="./javascript/bootstrap.js"></script>

    <script src="javascript/percolator.js"></script>
    <script src="javascript/memoryModelFunctions.js"></script>
    <script src="javascript/addModelComponents.js"></script>
    <script src="javascript/jsoneditor.min.js"></script>
    <script src="javascript/JSONEditorModule.js"></script>
    <link href="./css/jsoneditor.min.css" rel="stylesheet" type="text/css">
    <link href="./css/jsoneditor.css" rel="stylesheet" type="text/css">
    <!--<link href="css/svg.css" rel="stylesheet">-->
    <script src="javascript/percolatorFrameFunctions.js"></script>
    <script src="javascript/viewSwitcher.js"></script>
    <!--<link href="./css/bootstrap.min.css" rel="stylesheet"/>-->
    <!--<link href="./css/bootstrap-theme.min.css" rel="stylesheet"/>-->
    <script src="javascript/percolatorSocket.js"></script>
    <!--<link  href="css/svg.css" rel="stylesheet">-->
    <link href="./css/custom.css" rel="stylesheet"/>
    <link  href="./css/memoryModel.css" rel="stylesheet">
    <link  href="./css/percolatorFrame.css" rel="stylesheet">
    <link rel="shortcut icon" type="image/png" href="./images/fav_percolator.png"/>

</head>
<body>
<div id="memoryModelWrapper" class="col-md-12 col-sm-12 container-fluid">
    <button id="addNewStackFrame">add stackframe</button><input type="text" id='frameLabel' value="frame name">
    <button id="addNewHeapFrame">add heapframe</button>
    <button id="addVariableToFrame">add variable to created frame</button>
    <input type="text" id='variabelLabel' value="variable name">
    <input type="text" id='variabelValue' value="variable value">
    <button id="addFunctionToFrame">add function to created frame</button><input type="text" id='functionName' value="function name">
    <button id="addNewMemorModel">add new memory model</button>
    <input type="text" id='newModelName' value="model name">
    <input type="text" id='language' value="language">
    <input type="text" id='owner' value="Owner name">

    <!--Header-->
    <div id="header" class="col-md-12 col-sm-12">
        <!--Percolator Logo-->
        <div id="logo" class="col-md-3 col-sm-3" >
         <img src="./images/lg_percolator.png" class="img-responsive" alt="Responsive image">
        </div>
        <!--Header Title: Owner & name of Memorymodel-->
        <div id="headerTitle" class="col-md-9 col-sm-9">
            <h5 id="owner"></h5>
            <h5 id="modelName"></h5>
            <h5 id="version"></h5>
        </div>
        <!--Undo button -->
        <div class="col-md-offset-10 col-md-2 ">
            <button onclick="enableCodeView()">Code view</button>
            <button onclick="enableDiagramView()">Diagram view</button>
        </div>
    </div>
    <!--List of all memorymodels-->
    <div id="allMemoryModels" class="col-md-2 col-sm-2">
        <div class="togglable">
            <button onclick="toggleActive(this)">close</button>
        </div>
      <ul class="list-group" id="memoryModelsList"></ul>
    </div>
    <!-- Memorymodel-->
    <div id="memoryModel" class="col-md-8 col-sm-8">
        <div id="diagramContainer">

            <div class="clr"></div>
        </div>
    </div>
    <!--Memorymodel versions-->
    <div id="memoryModelVersions" class="col-md-2 col-sm-2">
        <div class="togglable">
            <button onclick="toggleActive(this)">close</button>
        </div>
        <button class="btn btn-primary" id="undoButton" onclick="chooseMemoryModel('id', true, true)"> Undo action</button>
        <h5 id="labelVersionList" style="display: none">Memorymodel Versions</h5>
        <ul class="list-group" id="memoryModelVersionList"></ul>
    </div>

    <script>
        $(window).resize(function () {
            jsPlumb.repaintEverything();
        })

        $('#addNewStackFrame').click(function(){
            addNewFrame($("#frameLabel").val(), 'stack');
        });

        $('#addNewHeapFrame').click(function(){
            addNewFrame($("#frameLabel").val(), 'heap');
        });

        // TODO pass in the id of the creeeded frame
        $('#addVariableToFrame').click(function(){
            addVariableToFrame($("#variabelLabel").val(), $("#variabelValue").val());
        });

        // TODO pass in the id of the creeeded frame
        $('#addFunctionToFrame').click(function(){
            addFunctionToFrame($("#functionName").val());
        });

        // TODO pass in the id of the creeeded frame
        $('#addNewMemorModel').click(function(){
            addNewMemorModel($("#newModelName").val(), $("#language").val(), $("#owner").val());
        });

    </script>
</div>

</body>
</html>